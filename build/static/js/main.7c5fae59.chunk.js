(this.webpackJsonpchrome_extension_react=this.webpackJsonpchrome_extension_react||[]).push([[0],{18:function(e,t,a){},27:function(e,t,a){e.exports=a(44)},32:function(e,t,a){},33:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(24),l=a.n(r),s=(a(32),a(2)),o=a(3),m=a(5),i=a(4),u=a(10),d=a(11),f=a(13),h=a(8),v=a.n(h),p=(a(18),a(33),function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){v.a.AutoInit(),n.setupButtonListener()},n.getEmail=function(e){chrome.runtime.sendMessage({for:"background",message:"get email"},(function(t){e(t.email)}))},n.setHeaderEmail=function(e){document.querySelector("#insertEmail").textContent=e.substr(0,e.indexOf("@"))},n.setupButtonListener=function(){document.querySelector("#createButton").addEventListener("click",n.onCreateTeam),document.querySelector("#joinButton").addEventListener("click",n.onJoinTeam)},n.onCreateTeam=function(){var e=document.querySelector("#teamName").value;if(""!==e){var t={for:"background",message:"create team",teamName:e},a=Object(f.a)(n);chrome.runtime.sendMessage(t,(function(e){console.log(e),chrome.storage.local.set({prevTeam:e}),a.props.history.push("/")}))}else v.a.toast({html:"Team name cannot be empty!",displayLength:2e3})},n.onJoinTeam=function(){var e=document.querySelector("#teamCode").value;if(5==(e=e.toUpperCase()).length){if(/^[A-Z0-9]+$/i.test(e)){var t={for:"background",message:"join team",teamCode:e};chrome.runtime.sendMessage(t,(function(t){"team code not found"!==t?"success"!==t?"already joined the group"!==t||v.a.toast({html:"You have already joined this group",displayLength:2e3}):chrome.storage.local.set({prevTeam:e},(function(){n.props.history.push("/")})):v.a.toast({html:"Team code does not exist!",displayLength:2e3})}))}else v.a.toast({html:"Team code should only contains alphabets and numbers",displayLength:2e3})}else v.a.toast({html:"Team code should be 5 characters!",displayLength:2e3})},n.state={},n}return Object(o.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s12"},c.a.createElement("ul",{className:"tabs"},c.a.createElement("li",{className:"tab col s6"},c.a.createElement("a",{className:"active",href:"#createTeam"},"Create Team")),c.a.createElement("li",{className:"tab col s6"},c.a.createElement("a",{className:"active",href:"#joinTeam"},"Join Team")))),c.a.createElement("div",{id:"createTeam",className:"col s12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field col s12"},c.a.createElement("input",{id:"teamName",type:"text",className:"validate"}),c.a.createElement("label",{for:"teamName"},"Team Name"))),c.a.createElement("div",{className:"row center-align"},c.a.createElement("div",{className:"col s12"},c.a.createElement("button",{id:"createButton",className:"waves-effect waves-light btn-large red accent-1"},"Create")))),c.a.createElement("div",{id:"joinTeam",className:"col s12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field col s12"},c.a.createElement("input",{maxlength:"5",id:"teamCode",type:"text",className:"validate"}),c.a.createElement("label",{for:"teamCode"},"Team Code"))),c.a.createElement("div",{className:"row center-align"},c.a.createElement("div",{className:"col s12"},c.a.createElement("button",{id:"joinButton",className:"waves-effect waves-light btn-large red accent-1"},"Join"))))))}}]),a}(n.Component)),E=Object(d.f)(p),b=(a(38),function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){v.a.AutoInit()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("nav",null,c.a.createElement("div",{className:"nav-wrapper"},c.a.createElement("a",{href:"#",className:"brand-logo"},"Logo"),c.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},c.a.createElement("li",null,c.a.createElement("a",{href:"sass.html"},"Sass")),c.a.createElement("li",null,c.a.createElement("a",{href:"badges.html"},"Components")),c.a.createElement("li",null,c.a.createElement("a",{href:"collapsible.html"},"JavaScript"))))))}}]),a}(n.Component)),g=(a(39),function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(u.b,{className:"grey darken-3 waves-effect waves-light card-panel center-align",to:"/"},c.a.createElement("span",null,"Home")),c.a.createElement(u.b,{className:"grey darken-3 waves-effect waves-light card-panel center-align",to:"/teams"},c.a.createElement("span",null,"Teams")),c.a.createElement(u.b,{className:"grey darken-3 waves-effect waves-light card-panel center-align",to:"/timeline"},c.a.createElement("span",null,"Timeline")))}}]),a}(n.Component)),N=(a(40),a(41),function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){v.a.AutoInit(),n.getTeam()},n.getTeam=function(){chrome.runtime.sendMessage({for:"background",message:"get teams"},(function(e){n.setState({teams:e})}))},n.onClickTeam=function(e){chrome.storage.local.set({prevTeam:e.teamCode}),n.props.history.push("/"+e.teamCode)},n.state={teams:[]},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"row"},this.state.teams.map((function(t){return c.a.createElement("div",{className:"col s3"},c.a.createElement("a",{onClick:e.onClickTeam.bind(e,t),teamCode:t.teamCode,className:"rounded-btn waves-effect waves-light btn"},c.a.createElement("div",{className:"inside-btn"},c.a.createElement("text",{className:"flexbox-centering"},t.teamName))))})),c.a.createElement("div",{className:"col s3"},c.a.createElement("a",{href:"#modal-createjoin",className:"rounded-btn waves-effect waves-light btn tooltipped modal-trigger","data-position":"bottom","data-tooltip":"Create or join a new team"},c.a.createElement("div",{className:"inside-btn"},c.a.createElement("text",{className:"flexbox-centering"},c.a.createElement("i",{className:"material-icons"},"add")))),c.a.createElement("div",{id:"modal-createjoin",className:"modal"},c.a.createElement("div",{className:"modal-content"},c.a.createElement(E,null)),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn-flat"},"Close")))))}}]),a}(n.Component)),w=Object(d.f)(N),j=a(14),y=a.n(j),C=a(16),O=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(C.a)(y.a.mark((function e(){var t,a,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Promise((function(e,t){chrome.storage.local.get("prevTeam",(function(t){e(t)}))})),e.next=3,t;case 3:if(!(!1 in(a=e.sent))){e.next=6;break}return e.abrupt("return");case 6:console.log(a),c={for:"background",message:"get team info",teamCode:a.prevTeam},chrome.runtime.sendMessage(c,(function(e){n.setState({teamCode:a.prevTeam,teamName:e.teamName,teamMembers:Object.keys(e.members)})}));case 9:case"end":return e.stop()}}),e)}))),n.state={teamCode:"",teamName:"",teamMembers:[]},n}return Object(o.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"divider"}),c.a.createElement("div",{className:"section"},c.a.createElement("h5",null,this.state.teamName),c.a.createElement("p",null,"Team Code: ",this.state.teamCode)),c.a.createElement("div",{className:"divider"}),c.a.createElement("div",{className:"section"},c.a.createElement("h5",null,"Team Members"),this.state.teamMembers.map((function(e){return c.a.createElement("p",null,e)}))))}}]),a}(n.Component),k=(a(43),function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.timeline(),chrome.runtime.onMessage.addListener(n.handleMessage)},n.createLeftCard=function(e,t,a){var r=c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s6"},c.a.createElement("div",{className:"card blue-grey lighten-5"},c.a.createElement("div",{className:"card-content white-text"},c.a.createElement("span",{style:{color:"black"},className:"card-title"},e)))),c.a.createElement("div",{className:"col s6"},c.a.createElement("div",null,c.a.createElement("h4",{style:{color:"#6886c5"}},t))));a?n.state.leftRightBranch.unshift(r):n.state.leftRightBranch.push(r),n.setState({leftRightBranch:n.state.leftRightBranch})},n.createRightCard=function(e,t,a){var r=c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s6 "},c.a.createElement("h4",{style:{color:"#fa9191"}},t)),c.a.createElement("div",{className:"col s6"},c.a.createElement("div",{className:"card blue-grey lighten-5"},c.a.createElement("div",{className:"card-content white-text"},c.a.createElement("span",{style:{color:"black"},className:"card-title"},e)))));a?n.state.leftRightBranch.unshift(r):n.state.leftRightBranch.push(r),n.setState({leftRightBranch:n.state.leftRightBranch})},n.handleMessage=function(e){if("popup"===e.for&&"timeline"===e.message){var t=e.time,a="Anonymous beaver visited ".concat(e.url);e.flip?n.createLeftCard(a,t,1):n.createRightCard(a,t,1)}return console.log(e),!0},n.timeline=Object(C.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={for:"background",message:"get timeline"},a=new Promise((function(e,a){chrome.runtime.sendMessage(t,(function(t){e(t)}))})),e.next=4,a;case 4:e.sent.map((function(e){var t="Anonymous beaver visited ".concat(e.url),a=e.time;e.flip?n.createLeftCard(t,a,0):n.createRightCard(t,a,0)}));case 6:case"end":return e.stop()}}),e)}))),n.state={black_listed:["www.youtube.com","www.facebook.com","twitter.com","myspace.com"],animals:["alligator","anteater","armadillo","aurochs","axolotl","badger","bat","beaver","buffalo","camel","capybara"],leftRightBranch:[],urls:[]},n.createLeftCard=n.createLeftCard.bind(Object(f.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{id:"timeline"},this.state.leftRightBranch)}}]),a}(n.Component)),T=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"app"},c.a.createElement(u.a,null,c.a.createElement(b,null),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s2",id:"side"},c.a.createElement(g,null)),c.a.createElement("div",{className:"col s10",id:"component"},c.a.createElement(d.c,null,c.a.createElement(d.a,{exact:!0,path:"/createjoin",component:E}),c.a.createElement(d.a,{exact:!0,path:"/teams",component:w}),c.a.createElement(d.a,{exact:!0,path:"/timeline",component:k}),c.a.createElement(d.a,{path:"/",component:O}))))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.7c5fae59.chunk.js.map